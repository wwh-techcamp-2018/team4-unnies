spring:
  profiles:
    active: development

  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 50MB
    session:
      tracking-modes: cookie

  devtools:
    livereload:
      enabled: true

  datasource:
    driver-class-name: com.mysql.jdbc.Driver

  jpa:
    database: mysql
    database-platform: org.hibernate.dialect.MySQL5InnoDBDialect

logging:
  config: classpath:logback-${spring.profiles.active}.xml

cloud:
  aws:
    s3:
      bucket: team4-unnies-static
    region:
      static: ap-northeast-2
    stack:
      auto: false
    credentials:
      instanceProfile: true
      accessKey: ${AWS_S3_ACCESS_KEY}
      secretKey: ${AWS_S3_SECRET_KEY}

handlebars:
  cache: false
  suffix: .html
  expose-session-attributes: true

---

spring:
  profiles: development
  datasource:
    data: classpath:import.sql # 시작할 때 실행할 script
    url: jdbc:mysql://localhost:3306/baemin-nanumchan?autoReconnect=true&useSSL=false&useUnicode=true&characterEncoding=utf8&serverTimezone=UTC
    username: unnies
    password: unnies

  jpa:
    show-sql: true
    hibernate:
      ddl-auto: create
      format_sql: true

logging:
  level:
    org.hibernate:
    - debug
    - type.descriptor.sql.BasicBinder: trace

---

spring.profiles: test
spring.profiles.include: development # development가 활성화되면 test도 포함

---

spring:
  profiles: production
  datasource:
    url: jdbc:${db.url}
    username: ${db.username}
    password: ${db.password}

jpa:
  show-sql: false
  hibernate:
    ddl-auto: validate

logging:
  level:
    org.hibernate: error
